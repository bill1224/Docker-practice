# Docker-practice


## Docker 명령어

### container 관련 명령어 

#### 1. container 목록 관련 
```
docker container ps (= docker ps)
```
현재 실행중인 컨테이너 목록 보기 

```
docker container ps -a (= docker ps -a)
```
모든 컨테이너 목록보기(실행중이지 않은 컨테이너 포함)

```
docker container ps -q (= docker ps -q)
```
현재 실행중인 컨테이너의 ID값 목록 보기

``` 
docker ps (-a) --format '{{.<컬럼명>}}'
```
container의 목록을 확인할 때, 보고 싶은 컬럼만 검색하고 싶은 경우에 사용한다. <br>
예를들어, 컬럼명에 Names를 입력하면 container의 이름만 보여줍니다.

#### 2. container 실행/정지 관련 
```
docker container run <추가명령어> --name <컨테이너 이름> <이미지 이름> <실행할 명령어>
```
위의 명령어는 기존의 이미지를 기반으로 새로운 컨테이너를 생성하는 명령어입니다.<br>
추가 명령어로는 ```-it```를 이용해 대화식으로 실행할 것인지, ```-p```포트 설정이 필요한지 등등 다양하게 사용이 된다.

```
docker container start <컨테이너 이름>
```
정지된 상태인 container를 실행시킬 때 사용

```
docker container stop <컨테이너 이름>
```
실행중인 container를 정지시킬 때 사용

#### 3. container 접속/해제 관련

```
docker attach <추가옵션> <컨테이너 이름>
```
현재 실행중인 컨테이너에 접속하기 위한 명령어

```
docker exec <추가 옵션> <컨테이너 이름> <실행 명령어>
```
외부에서 컨테이너 진입할 때 사용

```
exit
```
접속한 컨테이너 안에서 밖으로 빠져나올 때 사용합니다. <br>
exit로 빠져나오게 되면, 기존에 실행중이던 container는 정지합니다.<br>
단, exec로 접속했을 경우에는 exit로 빠져나와도 컨테이너는 계속 실행중

```
ctrl+p And ctrl+q
```
접속컨테이너를 빠져나옴 <br>
exit와 달리, dispatch로 빠져나오기때문에 컨테이너가 계속 실행중인 상태

### image 관련 

#### 1. image 목록 관련

```
docker images
```
image의 목록을 확인

#### 2. image 다운, 생성 
```
docker pull <이미지 이름>
```
이미지를 다운로드할 때 사용

```
docer search <이미지 이름>
```
이미지 이름이 포함된 image의 목록을 보여줍니다. 

```
docker commit <컨테이너 이름> <생성할 이미지 이름>
```
현재 생성해 놓은 컨테이너를 기반으로 새로운 이미지를 생성하고 싶은 경우 사용


#### 3. image 저장
만들어둔 image를 share하기 위해서 파일로 저장할 때
```
docker save -output <파일명 포멧은 .tar> <저장할 이미지>
```

#### 4. image 로드
```
docker load -i <불러올 이미지 파일 포멧.tar>
```

# 리눅스 명령어

### 유저관련 명령어
```
whoami
```
현재 유저의 이름을 알려준다.

```
hostname
```
현재 hostname을 알려준다.

```
su - <유저이름>
```
해당 유저로 계정 전환

```
adduser <유저이름>
```
새로운 유저를 생성 ```-g <그룹명>```을 추가하면, 그룹도 지정해줄 수 있다.

```
groupadd <그룹명>
```
그룹 생성

```
passwd
```
패스워드를 변경

```
chage -l <유저 이름>
```
해당 유저의 관해서 password 인증 만료 기간을 확인 할 수 있음, 인증 기간이 만료되지 않으면 passwd명령어로 비밀번호 변경 불가

```
chage -d 0 <유저이름>
```
해당 유저의 password 인증 만료기간을 0으로 만듦

#### 유저목록 확인하는 법
```
cat /etc/passwd
```
유저의 목록을 확인할 수 있다.

```
cat /etc/shadow
```
유저들의 목록과 비밀번호를 확인할 수 있다. (암호화 되어있음)


### 디바이스 / 프로세스 관련
```
df
```
마운트된 디바이스의 정보를 확인가능

```
du
```
디렉토리가 사용하고 있는 메모리의 양을 확인



### 기본 명령어
#### 1. 파일 내용을 출력할 때
```
cat <파일이름>
```
해당 파일의 내용을 출력합니다. 

```
head <옵션> <파일이름>
```
해당 파일의 내용을 옵션에 따라 상위에서 부터 가져오게 되는데, ```-10```라는 옵션을 주게되면 상위에서 부터 10줄의 내용을 출력

```
tail <옵션> <파일이름>
```
해당 파일의 내용을 옵션에 따라 하위에서 부터 가져온다. ```-f```라는 옵션을 주게되면, 파일이 업데이트 될 때마다. 
업데이트 된 내용을 볼 수 있다. <br>
예를 들어서 ```tail -f 로그파일```로그파일에 새로운 로그가 추가 될 때마다, 출력이 되도록 할 수 있다.

##### 2. 디렉토리 위치 관련
```
pwd
```
현재 위치하고 있는 디렉토리가 어디인지 알려준다.

```
which <디렉토리이름>
```
해당 디렉토리의 위치를 알려준다.

### 파일 / 디렉토리 관련
#### 1. 파일/디렉토리 생성
```
mkdir <디렉토리 명>
```
새로운 디렉토리 생성

```
touch <파일 명>
```
touch는 원래 해당 파일을 reload하는 기능인데, 해당 파일이 존재하지 않으면 내용이 없는 빈 파일을 생성한다.

```
<내용> > <파일명>
```
```>```를 사용하면, 해당 파일에 해당 내용을 덮어쓰기로 저장하고, 파일이 존재하지 않을 경우에는 새로 생성됨



```
<내용> >> <파일명>
```
```>>```는 기존에 파일내용에 내용을 추가하는 기능, 파일이 없을 경우에는 새로 생성됨


### 프로그래밍
파이썬, 자바같은 프로그래밍 언어를 사용해서 프로그래밍을 하듯이 shell명령어를 이용해서 프로그래밍을 하는 것이 가능하다.

#### 1. 출력
```
echo <출력할 내용>
```

#### 2. 조건문
```
if [ 조건문 ]; then
  code
fi
```



